{
  "schemaVersion": 2,
  "services": [
    {
      "name": "booklore",
      "image": "booklore/booklore:v1.16.5",
      "isMain": true,
      "environment": [
        {
          "key": "USER_ID",
          "value": "0"
        },
        {
          "key": "GROUP_ID",
          "value": "0"
        },
        {
          "key": "TZ",
          "value": "${TZ}"
        },
        {
          "key": "DATABASE_URL",
          "value": "jdbc:mariadb://mariadb:3306/booklore"
        },
        {
          "key": "DATABASE_USERNAME",
          "value": "booklore"
        },
        {
          "key": "DATABASE_PASSWORD",
          "value": "${DB_PASSWORD}"
        },
        {
          "key": "BOOKLORE_PORT",
          "value": "6060"
        }
      ],
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data",
          "containerPath": "/app/data",
          "readOnly": false,
          "shared": false,
          "private": false
        },
        {
          "hostPath": "${ROOT_FOLDER_HOST}/media/data/books",
          "containerPath": "/books",
          "readOnly": false,
          "shared": false,
          "private": false
        },
        {
          "hostPath": "${APP_DATA_DIR}/bookdrop",
          "containerPath": "/bookdrop",
          "readOnly": false,
          "shared": false,
          "private": false
        }
      ],
      "dependsOn": [
        "mariadb"
      ]
    },
    {
      "name": "mariadb",
      "image": "lscr.io/linuxserver/mariadb:11.4.5",
      "environment": [
        {
          "key": "PUID",
          "value": "1000"
        },
        {
          "key": "PGID",
          "value": "1000"
        },
        {
          "key": "TZ",
          "value": "${TZ}"
        },
        {
          "key": "MYSQL_ROOT_PASSWORD",
          "value": "${DB_PASSWORD}"
        },
        {
          "key": "MYSQL_DATABASE",
          "value": "booklore"
        },
        {
          "key": "MYSQL_USER",
          "value": "booklore"
        },
        {
          "key": "MYSQL_PASSWORD",
          "value": "${DB_PASSWORD}"
        }
      ],
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/config/mariadb",
          "containerPath": "/config",
          "readOnly": false,
          "shared": false,
          "private": false
        }
      ]
    }
  ]
}